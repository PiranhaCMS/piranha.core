@model Piranha.Extend.Fields.MarkdownField
@{
    var prefix = Html.ViewData.TemplateInfo.HtmlFieldPrefix
        .Replace("[", "_").Replace("]", "_").Replace(".", "_");
}

<div class="markdown">
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#@(prefix)_Markdown" aria-controls="home" role="tab" data-toggle="tab">Markdown</a></li>
        <li role="presentation"><a href="#@(prefix)_Preview" aria-controls="profile" role="tab" data-toggle="tab">Preview</a></li>
    </ul>
    <div class="tab-content">
        <div id="@(prefix)_Markdown" role="tabpanel" class="tab-pane active content-markdown">
            @Html.TextAreaFor(m => m.Value, new { @class = "form-control raw-text", rows = 10 })
        </div>
        <div id="@(prefix)_Preview" role="tabpanel" class="tab-pane content-preview">
            @Html.Raw(Model.ToHtml())
        </div>
    </div>
</div>
