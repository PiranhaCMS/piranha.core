//
// Copyright (c) 2016-2018 Håkan Edling
//
// This software may be modified and distributed under the terms
// of the MIT license.  See the LICENSE file for details.
// 
// http://github.com/piranhacms/piranha.core
// 

@import "colors.less";
@import "mixins.less";

.panel {
	.table {
		margin-bottom: 0;

		thead {
			tr {
				th {
					background: transparent;
					border-bottom: solid 4px @form-color;
				}
			}
		}
	}
}

.table-striped {
	>tbody {
		>tr:nth-child(2n+1) {
			>td {
				background-color: #fff;
			}

			&.active {
				>td {
					background-color: @list-color-active;
				}
			}
		}
		>tr:nth-child(2n) {
			>td {
				background-color: #fff;
			}

			&.active {
				>td {
					background-color: @list-color-active;
				}
			}
		}
	}
}

.form {
	label.label-small {
		font-size: 12px;
	}

	.form-group {
		// Form controls
		.form-control {
			height: auto;
			font-size: 18px;
            border-color: @border-color;
            border-radius: 0;
			box-shadow: none;

			&.input-validation-error {
				border: 1px solid #e88;
				padding: 5px 12px;
			}

			&.title {
				font-size: 26px;
				color: #222;
			}

			&.small {
				font-size: 14px;
			}

            &.count-me {
                border-bottom: 0 none;
            }

			&.count-me + p {
				color: #999;
				font-size: 12px;
				padding: 4px 12px;
				margin: 0;
				text-align: right;
				text-transform: uppercase;
                border: solid 1px @border-color;
                border-top: 0 none;
			}
		}

		textarea {
			resize: none;

			&.raw-text {
				font-family: Consolas,Courier,monospace;
				font-size: 15px;
			}
		}

		// Validation messages
		.field-validation-error {
			display: block;
			background: #333;
			color: #fff;
			padding: 4px 10px;
			font-size: 13px;
			position: absolute;
			top: -12px;
			right: -8px;
			opacity: 0.9;
			.border-radius(3px);
		}
		
		.form-control-feedback {
			top: 0;
		}

		// Select2 box
		.select2-container {
			width: 100%;
			padding: 1px 2px;

			&.select2-container-multi {
				.select2-choices {
					background-image: none;
					border: 0 none;
					padding: 2px 5px 0;

					.select2-search-choice {
						color: #fff;
						background: #444;
						border-color: #444;
						box-shadow: none;
						margin: 4px 2px 0 12px;
						font-size: 10px;
						text-transform: uppercase;

						.select2-search-choice-close {
							top: 2px;
						}

						&:before {
							content: "";
							position: absolute;
							top: 0;
							left: -20px;
							width: 0;
							height: 0;
							border: 10px solid transparent;
							border-right-color: #444;
						}
					}
				}
			}
		}

		// TinyMCE editor
		.mce-tinymce {
			border-color: @border-color;
			background: #fff;

			.mce-panel {
				background: #fff;
				background-image: none;
				padding: 1px 2px;

				.mce-btn {
					background: transparent;
					background-image: none;
					border: 0 none;
					box-shadow: none;

					.mce-ico {
						font-size: 14px;
					}
				}
			}

			.mce-toolbar-grp {
				padding: 20px;
				opacity: .8;
				
				&:hover {
					opacity: 1;
				}
			}

			.mce-edit-area {
				border-top: 0 none;
				padding: 0 15px;
			}
		}
	}

	.panel-white, .table {
		.form-group {
			border: 0;

			input, select {
				background: #eee;
				border-bottom: 1px solid @border-color;

				&::-webkit-input-placeholder,
				&:-moz-placeholder,
				&::-moz-placeholder,
				&:-ms-input-placeholder {  
					color: #ccc;
				}
			}
		}
	}

	.table {
		.form-group {
			margin-bottom: 0;

			input, select, textarea {
				font-size: 14px;
			}
		}
	}

	blockquote {
		margin-top: 10px;
		padding: 5px 0 5px 15px;
		font-size: 14px;
		color: @text-color-light;
	}
}

.mce-floatpanel {
	border-width: 0 !important;
}

.btn {
	.border-radius(0);

	&.btn-secondary {
		background: @bg-color;
		color: #333;
	}

	&.btn-primary {
		background: @link-color;
		border-color: @link-color;
		color: #fff;
	}

	&.btn-success {
		background: @success-color;
		border-color: @success-color;
		color: #fff;
	}

	&.btn-info {
		background: #5bc0de;
		border-color: #5bc0de;
	}
}

#btn-sitepicker {
	.btn-default {
		border-color: #fff;

		.btn-label {
			background: transparent;
		}
	}
}

.btn-label {
	.border-radius(0);
}

.col-sm-12.buttons {
	text-align: right;
	margin-top: -50px;
	float: right;
	width: auto;

	&.buttons-fixed {
		background: @bg-color;
		background: rgba(242,242,242,.85);
		position: fixed;
		left: 1152px;
		padding: 15px;
		margin-top: -65px;
		white-space: nowrap;
		z-index: 1800;		

		#main-submit {
			.btn-text {
				display: inline-block;
				width: 64px;
			}
		}
	}	

	.dropdown-menu {
		text-align: left;
	}

	.btn-icon {
		width: 36px;
		padding-left: 0;
		padding-right: 0;
	}
}

.btn-labeled.btn-block {
	text-indent: -12px;
	line-height: 32px;

	.btn-label {
		float: left;
		line-height: 20px;
		text-indent: 0;
	}
}

.region-list {
    margin: -15px -15px 15px;

	.sortable-placeholder {
		padding: 0; 
		min-height: 43px; 
		background: #f2fbff; 
		border: 1px dashed #b6bcbf; 
		box-sizing: border-box; 		
	}

    .region-list-item {
		.region-list-heading {
			border-bottom: solid 1px @border-color;
			position: relative;

			.region-tool {
				position: absolute;
				width: 43px;
				min-height: 43px;
				height: 100%;
				text-align: center;
		

				&.handle {
					left: 0;
					border-right: solid 1px @border-color;
					padding: 10px;
					cursor: pointer;

					&.no-expand {
						padding: 20px 10px;
					}
				}	

				&.region-actions {
					right: 0;
					padding: 0;
					border-left: solid 1px @border-color;

					&.no-expand {
						padding: 10px 0;
					}
					
					button {
						height: 43px;
						padding: 10px;
						background: transparent;
						border: 0 none;
					}
				}
			}

			.region-content {
				min-height: 43px;
				margin: 0 43px;
				padding: 4px 15px 0;

				.row:first-child {
					margin-top: 11px;
				}
			}

			a.region-title {
				display: block;
				height: 39px;
				padding: 8px 10px;
			}
		}

		.region-list-body {
			background: @item-color;
			padding: 0 15px 0;
			border-bottom: solid 1px @border-color;

			.form-group:first-child {
				padding-top: 15px;
			}
		}
    }

}

.region-list-toolbar {
	margin-bottom: 0;
}

.markdown {
	border: solid 1px @border-color;

	.nav-tabs {
		margin: -1px -1px 15px;
		background: #fff;
	}

	.content-preview {
		padding: 5px 15px 15px;		
	}

	.editor-toolbar {
		border: 0 none;

		&.fullscreen {
			z-index: 2000;			
		}
	}

	.editor-preview-side {
		border-top: 0 none;
		border-right: 0 none;
		border-bottom: 0 none;
		background: #fff;
		padding: 10px 25px;		
	}

	.CodeMirror {
		border: 0 none;
		border-radius: 0;
		font-family: Consolas,Courier,monospace;
		font-size: 14px;
		
		&.CodeMirror-fullscreen {
			z-index: 2000;
		}
	}
}

.region-list {
	.markdown {
		.nav-tabs {
			margin-bottom: 0;
			border: 0;
		}

		.raw-text {
			height: 230px;
		}

		.content-markdown {
			background: #fff;
			border: solid 1px @border-color;;
		}

		.content-preview {
			background: #fff;
			padding: 15px 15px 0;
			border: solid 1px @border-color;;
			height: 230px;
			overflow-y: scroll;						
		}
	}
}


.single-region {
    .region-editor {
        margin: -15px -15px -30px;

        .mce-tinymce {
			border: 0 none !important;
        }
    }

	textarea {
		&.raw-text {
			border-width: 0;			
		}
	}

	.markdown {
		border: 0;

		.content-preview {
			padding: 0;
		}

		.nav-tabs {
			display: none;
			margin: 0 0 15px;
		}
	}
}

.inline-search {
	border: 0 none;
	background: #f4f4f4;
	margin-top: 10px;
	border-radius: 0;
	box-shadow: unset;

	&.inline-search-light {
		background: #fff;
	}
}

.list-group-header {
	background: @panel-color-head;

	label {
		margin: 0;
	}
}	

.custom-editor {
	padding: 0px 15px;

	.custom-editor-list {
		background: @list-color;
		padding: 0;
		border-right: solid 1px @border-color;

		.nav-tabs {
			font-size: 12px;
			font-weight: bold;
			text-transform: uppercase;
			border-bottom: 0 none;

			>li {
				>a {
					border: 0 none;
					border-radius: 0;
					padding: 15px;
				}

				&.active {
					>a {
						background: @border-color;
						border: 0 none;
					}
				}
			}
		}

		.list-group {
			.list-group-item {
				background: @list-color;
			    font-family: "Open Sans",Arial;
    			font-size: 16px;
				border: 0 none;
				border-bottom: solid 1px #fff;
				margin-bottom: 0;

				&.active {
					color: #555;
					background: @border-color;
				}

				&:first-child {
					border-radius: 0;
				}
				&:last-child {
					border-radius: 0;
					border-bottom: 0 none;
				}

				small {
					color: @text-color-light;
					font-family: Arial;
					font-size: 12px;
					display: block;
					padding: 5px 0;
				}
			}
		}
	}

	.custom-editor-body {
		padding: 15px 25px;
	}
}

.dropzone {
    margin-bottom: 20px;
    border: dashed 2px @border-color;
    font-family: "Open Sans", Arial;
    font-size: 18px;
    color: @border-color;
	border-radius: 8px;
	
	.dz-message {
		span {
			margin-right: 5px;
		}
	}
}

.form-dimmer {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: #000;
	opacity: 0.5;
	display: none;
	z-index: 1900;
	
	&.active {
		display: block;
	}
}

@media (min-width: 990px) {
	.single-region {
		.tab-content > .tab-pane {
			display: inline-block !important;
			
			&.content-markdown {
				width: 50%;
				border-right: solid 1px @border-color;
			}
	
			&.content-preview {
				float: right;
				width: 49%;
				padding-left: 15px;
				margin-top: 60px;
			}
		}
	}
}
@media (max-width: 989px) {
	.single-region {
		.markdown {
			.nav-tabs {
				display: block;
			}
		}
	}
}

.region-description {
	margin: -15px 0 15px;
	padding: 15px 15px 5px;;
	border-bottom: 1px solid @border-color;
	background: #eef4f8;

	&.region-list-description {
		margin: -15px -15px 15px;
	}

	i {
		font-size: 20px;
		float: left;
		opacity: .25;		
	}

	p {
		margin-left: 52px;
		opacity: .5;		
	}
}