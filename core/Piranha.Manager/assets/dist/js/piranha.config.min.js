piranha.config=new Vue({el:"#config",data:{loading:!0,model:{hierarchicalPageSlugs:null,expandedSitemapLevels:null,managerPageSize:null,archivePageSize:null,commentsApprove:null,commentsCloseAfterDays:null,commentsEnabledForPages:null,commentsEnabledForPosts:null,commentsPageSize:null,pagesExpires:null,postsExpires:null,mediaCDN:null,pageRevisions:null,postRevisions:null,defaultCollapsedBlocks:!1,defaultCollapsedBlockGroupHeaders:!1}},methods:{load:function(){self=this,fetch(piranha.baseUrl+"manager/api/config").then(function(e){return e.json()}).then(function(e){self.model.hierarchicalPageSlugs=e.hierarchicalPageSlugs,self.model.expandedSitemapLevels=e.expandedSitemapLevels,self.model.managerPageSize=e.managerPageSize,self.model.archivePageSize=e.archivePageSize,self.model.commentsApprove=e.commentsApprove,self.model.commentsCloseAfterDays=e.commentsCloseAfterDays,self.model.commentsEnabledForPages=e.commentsEnabledForPages,self.model.commentsEnabledForPosts=e.commentsEnabledForPosts,self.model.commentsPageSize=e.commentsPageSize,self.model.pagesExpires=e.pagesExpires,self.model.postsExpires=e.postsExpires,self.model.mediaCDN=e.mediaCDN,self.model.pageRevisions=e.pageRevisions,self.model.postRevisions=e.postRevisions,self.model.defaultCollapsedBlocks=e.defaultCollapsedBlocks,self.model.defaultCollapsedBlockGroupHeaders=e.defaultCollapsedBlockGroupHeaders}).catch(function(e){console.log("error:",e)})},save:function(){self=this,fetch(piranha.baseUrl+"manager/api/config/save",{method:"post",headers:piranha.utils.antiForgeryHeaders(),body:JSON.stringify({hierarchicalPageSlugs:self.model.hierarchicalPageSlugs,expandedSitemapLevels:self.model.expandedSitemapLevels,managerPageSize:self.model.managerPageSize,archivePageSize:self.model.archivePageSize,commentsApprove:self.model.commentsApprove,commentsCloseAfterDays:self.model.commentsCloseAfterDays,commentsEnabledForPages:self.model.commentsEnabledForPages,commentsEnabledForPosts:self.model.commentsEnabledForPosts,commentsPageSize:self.model.commentsPageSize,pagesExpires:self.model.pagesExpires,postsExpires:self.model.postsExpires,mediaCDN:self.model.mediaCDN,pageRevisions:self.model.pageRevisions,postRevisions:self.model.postRevisions,defaultCollapsedBlocks:self.model.defaultCollapsedBlocks,defaultCollapsedBlockGroupHeaders:self.model.defaultCollapsedBlockGroupHeaders})}).then(function(e){return e.json()}).then(function(e){400!==e.status?piranha.notifications.push(e.status):piranha.notifications.unauthorized()}).catch(function(e){console.log("error:",e)})}},created:function(){this.load()},updated:function(){this.loading=!1}});