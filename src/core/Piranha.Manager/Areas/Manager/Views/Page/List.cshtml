@model Piranha.Areas.Manager.Models.PageListModel
@{
    ViewBag.Title = "Pages";
}

@section script {
    <script type="text/javascript">
        $(function () {
            //$('.table-sortable tbody').sortable({
            //    handle: 'span.move'
            //});

            $('.dd').nestable({
                group: 1
            });
        });
    </script>
}

<div class="row">
    <div class="col-sm-12 buttons">
        <div class="btn-group pull-right">
            <button type="button" class="btn btn-labeled btn-primary" data-toggle="dropdown">
                <span class="btn-label">
                    <i class="glyphicon glyphicon-plus"></i>
                </span>Add
            </button>
            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                @foreach (var type in Model.PageTypes) {
                    <li><a href="@Url.Action("Add", new { type = type.Id })">@type.Title</a></li>
                }
            </ul>
        </div>
    </div>
</div>

<div class="dd">
    <ol class="sitemap header">
        <div class="date pull-right">Created</div>
        <div class="date pull-right">Modified</div>
        <div>Title</div>
    </ol>
    <ol class="sitemap dd-list">
        @Html.DisplayFor(m => m.Sitemap)
    </ol>
</div>

@*<table class="table table-striped table-main table-sortable">
    <thead>
        <tr>
            <th>Title</th>
            <th class="date">Modified</th>
            <th class="date">Created</th>
            <th class="actions one"></th>
        </tr>
    </thead>
    <tbody>
        @Html.DisplayFor(m => m.Sitemap)
    </tbody>
</table>*@